!function(){"use strict";angular.module("rrrEmil",["ngMaterial","ngLodash","pascalprecht.translate"]).config(["$logProvider",function(e){e.debugEnabled(!0)}]).config(["$mdThemingProvider",function(e){e.theme("default").primaryPalette("lime").accentPalette("blue-grey").warnPalette("deep-orange").dark()}]).config(["$translateProvider",function(e){e.translations("de",{APP_HEADLINE:"Emil für Russian Railroads",NEW_ROUND:"Neue Runde starten",PLAYER_ACTIONS:"Spieleraktionen",EMIL_ACTIONS:"Von Emil besetzte Aktionen",COSTS_COINS:"{{coins}} Münze",COSTS_WORKER:"{{worker}} Arbeiter",COSTS_WORKER_COINS:"{{worker}} Arbeiter und {{coins}} Münze",CARD_0:"3 schwarze Gleise",CARD_1:"3 silberne Gleise",CARD_2:"1 braunes Gleis",CARD_3:"2 braune Gleise",CARD_4:"1 holzfarbenes Gleis",CARD_5:"2 holzfarbene Gleise",CARD_6:"1 weißes Gleis",CARD_7:"2 weiße Gleise",CARD_8:"2 beliebige Gleise",CARD_9:"Nimm eine Lokomitive oder eine Fabrik",CARD_10:"Nimm eine Lokomitive und eine Fabrik",CARD_11:"Benutze den Ingenieur",CARD_12:"Den Ingenieur anwerben",CARD_13:"1 Schritt auf der Industrieleiste",CARD_14:"2 Schritte auf der Industrieleiste",CARD_15:"Nimm einen x2 Marker"}),e.translations("en",{APP_HEADLINE:"Emil for Russian Railroads",NEW_ROUND:"Start new round",PLAYER_ACTIONS:"Actions used by player",EMIL_ACTIONS:"Actions used by Emil",COSTS_COINS:"{{coins}} coin",COSTS_WORKER:"{{worker}} worker",COSTS_WORKER_COINS:"{{worker}} worker and {{coins}} coin",CARD_0:"3 black tracks",CARD_1:"3 silver tracks",CARD_2:"1 brown track",CARD_3:"2 brown tracks",CARD_4:"1 natural track",CARD_5:"2 natural tracks",CARD_6:"1 white track",CARD_7:"2 white tracks",CARD_8:"2 wildcard tracks",CARD_9:"Take either a locomotive or a factory",CARD_10:"Take a locomotive and a factory",CARD_11:"Use the public engineer",CARD_12:"Recruit the engineer",CARD_13:"1 move on industry track",CARD_14:"2 moves on industry track",CARD_15:"Take a 2x double marker"}),e.registerAvailableLanguageKeys(["en","de"],{"en*":"en","de*":"de"}),e.determinePreferredLanguage(),e.useSanitizeValueStrategy("escape")}]).run(["$log",function(e){e.debug("runBlock end")}])}(),function(){"use strict";function e(e){var r=this,n=[{id:0,worker:2,coins:0},{id:1,worker:2,coins:0},{id:2,worker:1,coins:0},{id:3,worker:2,coins:0},{id:4,worker:1,coins:0},{id:5,worker:2,coins:0},{id:6,worker:1,coins:0},{id:7,worker:2,coins:0},{id:8,worker:1,coins:1},{id:9,worker:1,coins:0},{id:10,worker:3,coins:0},{id:11,worker:1,coins:0},{id:12,worker:0,coins:1},{id:13,worker:1,coins:0},{id:14,worker:2,coins:0},{id:15,worker:1,coins:0}];e.forEach(n,function(e){e.action=function(){return"CARD_"+e.id}}),e.forEach(n,function(e){e.cost=function(){var r="COSTS";return e.worker>0&&(r+="_WORKER"),e.coins>0&&(r+="_COINS"),r}});var i=[],t=[],o=[],a=function(){o=e.filter(n,function(n){return 0==r.getAvailableWorkers()?!1:r.getAvailableWorkers()-n.worker<0?!1:e.includes(i,n,"id")?!1:e.includes(t,n,"id")?!1:!0})},s=6;r.fabOpen=!1,r.drawCard=function(){var r=e.sample(o);r&&i.push(r),a()},r.redrawCard=function(){i.length>0&&i.length--,r.drawCard()},r.rejectCard=function(){if(i.length>0)var n=e.last(i);n&&!e.includes(t,n,"id")&&(t.push(n),r.redrawCard())},r.newRound=function(){i.length=0,t.length=0,a(),r.drawCard()},r.getLast=function(){return e.last(i)},r.getPlayedCards=function(){return e.slice(i,0,i.length-1).reverse()},r.canDrawCards=function(){return r.nrCards()>0&&r.getAvailableWorkers()>0},r.nrCards=function(){return o.length},r.getOccupiedCards=function(){return t},r.getAvailableWorkers=function(){return s-e.sumBy(i,"worker")},r.getPoints=function(){return 8==s?"150+":7==s?"50+":6==s?"< 50":void 0},r.setWorkers=function(e){s=e,a()},r.getAllWorkers=function(){return s},r.removeCardFromPlayerStack=function(r){e.remove(t,r,"id"),a()}}e.$inject=["lodash"],angular.module("rrrEmil").controller("MainController",e)}();
//# sourceMappingURL=../maps/scripts/app-f0569c5124.js.map
